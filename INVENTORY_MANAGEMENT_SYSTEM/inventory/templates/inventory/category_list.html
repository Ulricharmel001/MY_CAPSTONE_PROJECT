{% extends 'inventory/base.html' %}

{% block title %}Categories - Inventory{% endblock %}
{% block page_title %}Categories{% endblock %}

{% block content %}
<div class="container-fluid">

  <!-- Add Category Form -->
  <div class="card mb-4 p-4">
    <h5 class="mb-3">Add New Category</h5>
    <form method="POST" class="row g-3">
      {% csrf_token %}
      <div class="col-md-6">
        {{ form.name.label_tag }}
        {{ form.name }}
      </div>
      <div class="col-md-6">
        {{ form.store.label_tag }}
        {{ form.store }}
      </div>
      <div class="col-12">
        <button type="submit" class="btn btn-primary mt-3">Add Category</button>
      </div>
    </form>
  </div>

  <!-- Categories Table -->
  <div class="card p-4">
    <h5 class="mb-3">All Categories</h5>
    <table class="table table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Store</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
      {% for category in categories %}
        <tr>
          <td>{{ category.id }}</td>
          <td>{{ category.name }}</td>
          <td>{{ category.store.name }}</td>
          <td>
            <a href="{% url 'category_detail' category.id %}" class="btn btn-sm btn-primary">Edit</a>
            <a href="{% url 'category_delete' category.id %}" class="btn btn-sm btn-danger">Delete</a>
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="4" class="text-center">No categories available</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>

</div>
{% endblock %}
